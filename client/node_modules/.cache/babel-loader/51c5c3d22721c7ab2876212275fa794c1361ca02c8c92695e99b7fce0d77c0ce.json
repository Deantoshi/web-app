{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CSVDownloader(){const[files,setFiles]=useState([]);const[selectedFile,setSelectedFile]=useState('');useEffect(()=>{axios.get('/api/files').then(response=>{setFiles(response.data);if(response.data.length>0){setSelectedFile(response.data[0]);}}).catch(error=>{console.error('Error fetching files:',error);});},[]);const handleFileChange=event=>{setSelectedFile(event.target.value);};const handleDownload=()=>{if(selectedFile){window.location.href=\"/download/\".concat(selectedFile);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Download CSV Files\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedFile,onChange:handleFileChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a file\"}),files.map((file,index)=>/*#__PURE__*/_jsx(\"option\",{value:file,children:file},index))]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDownload,disabled:!selectedFile,children:\"Download\"})]});}export default CSVDownloader;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","CSVDownloader","files","setFiles","selectedFile","setSelectedFile","get","then","response","data","length","catch","error","console","handleFileChange","event","target","value","handleDownload","window","location","href","concat","children","onChange","map","file","index","onClick","disabled"],"sources":["/home/ddean/conclave-api/client/src/FileDownloader.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction CSVDownloader() {\n  const [files, setFiles] = useState([]);\n  const [selectedFile, setSelectedFile] = useState('');\n\n  useEffect(() => {\n    axios.get('/api/files')\n      .then(response => {\n        setFiles(response.data);\n        if (response.data.length > 0) {\n          setSelectedFile(response.data[0]);\n        }\n      })\n      .catch(error => {\n        console.error('Error fetching files:', error);\n      });\n  }, []);\n\n  const handleFileChange = (event) => {\n    setSelectedFile(event.target.value);\n  };\n\n  const handleDownload = () => {\n    if (selectedFile) {\n      window.location.href = `/download/${selectedFile}`;\n    }\n  };\n\n  return (\n    <div>\n      <h2>Download CSV Files</h2>\n      <select value={selectedFile} onChange={handleFileChange}>\n        <option value=\"\">Select a file</option>\n        {files.map((file, index) => (\n          <option key={index} value={file}>\n            {file}\n          </option>\n        ))}\n      </select>\n      <button onClick={handleDownload} disabled={!selectedFile}>\n        Download\n      </button>\n    </div>\n  );\n}\n\nexport default CSVDownloader;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACdC,KAAK,CAACU,GAAG,CAAC,YAAY,CAAC,CACpBC,IAAI,CAACC,QAAQ,EAAI,CAChBL,QAAQ,CAACK,QAAQ,CAACC,IAAI,CAAC,CACvB,GAAID,QAAQ,CAACC,IAAI,CAACC,MAAM,CAAG,CAAC,CAAE,CAC5BL,eAAe,CAACG,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,CACnC,CACF,CAAC,CAAC,CACDE,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,gBAAgB,CAAIC,KAAK,EAAK,CAClCV,eAAe,CAACU,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACrC,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAId,YAAY,CAAE,CAChBe,MAAM,CAACC,QAAQ,CAACC,IAAI,cAAAC,MAAA,CAAgBlB,YAAY,CAAE,CACpD,CACF,CAAC,CAED,mBACEJ,KAAA,QAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BvB,KAAA,WAAQiB,KAAK,CAAEb,YAAa,CAACoB,QAAQ,CAAEV,gBAAiB,CAAAS,QAAA,eACtDzB,IAAA,WAAQmB,KAAK,CAAC,EAAE,CAAAM,QAAA,CAAC,eAAa,CAAQ,CAAC,CACtCrB,KAAK,CAACuB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACrB7B,IAAA,WAAoBmB,KAAK,CAAES,IAAK,CAAAH,QAAA,CAC7BG,IAAI,EADMC,KAEL,CACT,CAAC,EACI,CAAC,cACT7B,IAAA,WAAQ8B,OAAO,CAAEV,cAAe,CAACW,QAAQ,CAAE,CAACzB,YAAa,CAAAmB,QAAA,CAAC,UAE1D,CAAQ,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAAtB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}